<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScoutLens - Find Undervalued Football Players</title>
    <meta name="description" content="Discover mispriced footballers using xG data. Free undervaluation scores for 800+ players across the Big 5 leagues.">
    <meta name="theme-color" content="#0a0d10">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ScoutLens">
    
    <!-- Open Graph -->
    <meta property="og:title" content="ScoutLens - Find Undervalued Football Players">
    <meta property="og:description" content="Discover mispriced footballers using xG data. Free undervaluation scores.">
    <meta property="og:type" content="website">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ”­</text></svg>">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loader" class="loader">
        <div class="loader-content">
            <div class="loader-icon">
                <svg viewBox="0 0 100 100" class="radar-svg">
                    <circle cx="50" cy="50" r="45" class="radar-circle" />
                    <circle cx="50" cy="50" r="30" class="radar-circle" />
                    <circle cx="50" cy="50" r="15" class="radar-circle" />
                    <line x1="50" y1="50" x2="50" y2="5" class="radar-sweep" />
                </svg>
            </div>
            <h1 class="loader-title">ScoutLens</h1>
            <p class="loader-subtitle">Finding mispriced players...</p>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="app hidden">
        <!-- Navigation -->
        <nav class="nav">
            <div class="nav-brand">
                <span class="nav-logo">ðŸ”­</span>
                <span class="nav-title">ScoutLens</span>
            </div>
            <div class="nav-links">
                <button class="nav-link active" data-view="dashboard">
                    <span class="nav-link-icon">ðŸ“Š</span>
                    <span class="nav-link-text">Undervalued</span>
                </button>
                <button class="nav-link" data-view="performers">
                    <span class="nav-link-icon">âš¡</span>
                    <span class="nav-link-text">Top xGI</span>
                </button>
                <button class="nav-link" data-view="rising">
                    <span class="nav-link-icon">ðŸŒŸ</span>
                    <span class="nav-link-text">Rising</span>
                </button>
                <button class="nav-link" data-view="watchlist">
                    <span class="nav-link-icon">â˜…</span>
                    <span class="nav-link-text">Saved</span>
                </button>
            </div>
            <div class="nav-actions">
                <button class="btn btn-ghost btn-sm" id="newsletter-btn">
                    ðŸ“§ Get Weekly List
                </button>
            </div>
        </nav>

        <!-- Hero Section (Dashboard only) -->
        <section id="hero" class="hero">
            <div class="hero-content">
                <h1 class="hero-title">Find Undervalued<br>Football Players</h1>
                <p class="hero-subtitle">
                    We analyze xG, xA, age, and league context to find players whose 
                    market value doesn't match their performance. Updated weekly.
                </p>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <span class="hero-stat-value">800+</span>
                        <span class="hero-stat-label">Players Analyzed</span>
                    </div>
                    <div class="hero-stat">
                        <span class="hero-stat-value">5</span>
                        <span class="hero-stat-label">Leagues Covered</span>
                    </div>
                    <div class="hero-stat">
                        <span class="hero-stat-value">Weekly</span>
                        <span class="hero-stat-label">Data Updates</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main Content Area -->
        <main class="main">
            <!-- Undervalued (Dashboard) View -->
            <section id="view-dashboard" class="view active">
                <div class="section-intro">
                    <h2>ðŸŽ¯ Most Undervalued Players</h2>
                    <p>Players whose fair value exceeds their current market price, based on xG+xA output.</p>
                </div>

                <div class="players-list" id="undervalued-list">
                    <!-- Populated by JS -->
                </div>

                <div class="cta-card">
                    <div class="cta-content">
                        <h3>ðŸ“§ Get the Full List Every Week</h3>
                        <p>Top 20 undervalued players + deep dives delivered to your inbox.</p>
                    </div>
                    <form class="cta-form" id="email-form-1">
                        <input type="email" placeholder="your@email.com" required class="cta-input">
                        <button type="submit" class="btn btn-primary">Subscribe Free</button>
                    </form>
                </div>
            </section>

            <!-- Top Performers View -->
            <section id="view-performers" class="view">
                <div class="section-intro">
                    <h2>âš¡ Top xGI Performers</h2>
                    <p>Highest xG + xA per 90 minutes this season. Pure output, regardless of price.</p>
                </div>

                <div class="players-list" id="performers-list">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Rising Stars View -->
            <section id="view-rising" class="view">
                <div class="section-intro">
                    <h2>ðŸŒŸ Rising Stars (U23)</h2>
                    <p>Young players with elite underlying numbers. Tomorrow's stars at today's prices.</p>
                </div>

                <div class="players-list" id="rising-list">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Watchlist View -->
            <section id="view-watchlist" class="view">
                <div class="section-intro">
                    <h2>â˜… Your Watchlist</h2>
                    <p>Players you're tracking. Data saved locally on your device.</p>
                </div>

                <div class="players-list" id="watchlist-list">
                    <div class="empty-state">
                        <span class="empty-state-icon">â˜…</span>
                        <h3>No saved players yet</h3>
                        <p>Click the star on any player to add them here.</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-brand">
                    <span>ðŸ”­ ScoutLens</span>
                    <span class="footer-tagline">Finding mispriced footballers</span>
                </div>
                <div class="footer-links">
                    <a href="https://twitter.com/scoutlens" target="_blank" class="footer-link">Twitter</a>
                    <span class="footer-divider">Â·</span>
                    <a href="#" class="footer-link" id="methodology-link">Methodology</a>
                    <span class="footer-divider">Â·</span>
                    <span class="footer-text">Data: Understat, Transfermarkt</span>
                </div>
            </div>
        </footer>

        <!-- Player Detail Modal -->
        <div class="modal" id="player-modal">
            <div class="modal-backdrop"></div>
            <div class="modal-content player-modal-content">
                <button class="modal-close" id="modal-close">Ã—</button>
                <div class="player-modal-body" id="player-modal-body">
                    <!-- Populated by JS -->
                </div>
            </div>
        </div>

        <!-- Newsletter Modal -->
        <div class="modal" id="newsletter-modal">
            <div class="modal-backdrop"></div>
            <div class="modal-content newsletter-modal-content">
                <button class="modal-close" id="newsletter-modal-close">Ã—</button>
                <div class="newsletter-modal-body">
                    <div class="newsletter-header">
                        <span class="newsletter-icon">ðŸ“§</span>
                        <h2>Weekly Undervalued XI</h2>
                        <p>Every Monday: Top 20 mispriced players + 2 deep dives</p>
                    </div>
                    <form class="newsletter-form" id="email-form-2">
                        <input type="email" placeholder="your@email.com" required class="newsletter-input">
                        <button type="submit" class="btn btn-primary btn-lg btn-block">
                            Subscribe Free
                        </button>
                    </form>
                    <p class="newsletter-note">Free forever. Unsubscribe anytime. No spam.</p>
                </div>
            </div>
        </div>

        <!-- Methodology Modal -->
        <div class="modal" id="methodology-modal">
            <div class="modal-backdrop"></div>
            <div class="modal-content methodology-modal-content">
                <button class="modal-close" id="methodology-modal-close">Ã—</button>
                <div class="methodology-body">
                    <h2>ðŸ“Š How We Calculate Undervaluation</h2>
                    
                    <h3>The Formula</h3>
                    <pre class="code-block">Fair Value = Base Value Ã— Performance Ratio Ã— Age Multiplier Ã— League Multiplier

Undervaluation % = (Fair Value - Market Value) / Market Value Ã— 100</pre>
                    
                    <h3>Performance Ratio</h3>
                    <p>We use <strong>xG + xA per 90 minutes</strong> (expected goals + expected assists) compared to position averages:</p>
                    <ul>
                        <li>Forwards: 0.55 xGI/90 average</li>
                        <li>Midfielders: 0.35 xGI/90 average</li>
                        <li>Defenders: 0.15 xGI/90 average</li>
                    </ul>
                    
                    <h3>Age Curve</h3>
                    <p>Player value peaks at 24-26. We apply multipliers:</p>
                    <ul>
                        <li>17-20: 1.4x (potential premium)</li>
                        <li>21-24: 1.3x (peak value)</li>
                        <li>25-28: 1.0x (prime years)</li>
                        <li>29-32: 0.7x (decline)</li>
                        <li>33+: 0.4x (veteran)</li>
                    </ul>
                    
                    <h3>League Multipliers</h3>
                    <ul>
                        <li>Premier League: 2.0x</li>
                        <li>La Liga: 1.4x</li>
                        <li>Bundesliga: 1.3x</li>
                        <li>Serie A: 1.2x</li>
                        <li>Ligue 1: 1.1x</li>
                    </ul>
                    
                    <h3>Data Sources</h3>
                    <p><strong>xG/xA:</strong> Understat (updated after each matchday)</p>
                    <p><strong>Market Values:</strong> Transfermarkt</p>
                    
                    <h3>Limitations</h3>
                    <ul>
                        <li>No injury history factored in</li>
                        <li>Contract length not included</li>
                        <li>Defensive metrics limited</li>
                        <li>Sample size varies by minutes played</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="data/player_data.js"></script>
    <script src="app.js"></script>
</body>
</html>
